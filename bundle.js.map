{"version":3,"sources":["webpack:///webpack/bootstrap 0b95a8fa3dd2f65e932f","webpack:///./lib/bullet.js","webpack:///./lib/enemy.js","webpack:///./lib/smashastro.js","webpack:///./lib/game.js","webpack:///./lib/ship.js","webpack:///./lib/astro.js","webpack:///./lib/hurricane.js","webpack:///./lib/view.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AC7DA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,mBAAmB;AACnB,mBAAmB;AACnB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AChDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;;;;;;;;;;;ACfD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2BAA2B,WAAW;AACtC,2BAA2B,aAAa;AACxC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;;;AChOA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;AAGA;;;;;;;;;AC3BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;ACVA;;AAEA;AACA;AACA,kBAAkB,uBAAuB;AACzC;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,mBAAmB,EAAE;AAC5C,wBAAwB,oBAAoB,EAAE;AAC9C,wBAAwB,cAAc,EAAE;AACxC,oBAAoB,oBAAoB,EAAE;AAC1C,oBAAoB,qBAAqB,EAAE;AAC3C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0b95a8fa3dd2f65e932f","class Bullet {\n  constructor(posX){\n    this.posX = posX + 6;\n    this.posY = 285;\n  }\n}\n\nexport default Bullet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/bullet.js\n// module id = 0\n// module chunks = 0","class Enemy {\n  constructor(level, size = this.randSize(), type = \"astro\", posX = this.randX(), posY = 0, speed = this.randSpeed(level), angle = 0) {\n    this.posX = posX;\n    this.type = type;\n    this.posY = posY;\n    this.speed = speed;\n    this.angle = angle;\n    this.size = size;\n  }\n\n  randX() {\n    return Math.floor(Math.random() * 283);\n  }\n\n  randSpeed(level) {\n    const weightSpeed = Math.floor(Math.random() * 100);\n    if (weightSpeed > Enemy.ODDS[level][0]) {\n      return Enemy.SPEEDS[level][0];\n    }else if (weightSpeed > Enemy.ODDS[level][1]) {\n      return Enemy.SPEEDS[level][1];\n    }else {\n      return Enemy.SPEEDS[level][2];\n    }\n  }\n\n  randSize() {\n    const weightSize = Math.floor(Math.random() * 100);\n    const small = { height: 8, width: 8 };\n    const large = { height: 16, width: 16 };\n    return weightSize < 75 ? large : small;\n  }\n\n}\n\nEnemy.ODDS = {\n  1: [85, 40],\n  2: [50, 10],\n  3: [80, 35],\n  4: [50, 10]\n};\n\nEnemy.SPEEDS = {\n  1: [2.25,1.5,.75],\n  2: [2.5,1.75,1],\n  3: [3.5,2.5,1.5],\n  4: [4,3,2]\n};\n\nexport default Enemy;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/enemy.js\n// module id = 1\n// module chunks = 0","import Game from './game.js';\nimport View from './view.js';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvas = document.getElementById('game');\n  const startButton = document.getElementById(\"start\");\n  startButton.addEventListener(\"click\", () => {\n    const ctx = canvas.getContext('2d');\n    const game = new Game();\n    canvas.height = 300;\n    canvas.width = 300;\n    const view = new View(game, ctx);\n    view.start();\n    view.toggleAudio();\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/smashastro.js\n// module id = 2\n// module chunks = 0","import Ship from './ship.js';\nimport Bullet from './bullet.js';\nimport Astro from './astro.js';\nimport Hurricane from './hurricane.js';\n\nclass Game {\n  constructor() {\n    this.ship = new Ship(this);\n    this.bullets = [];\n    this.astros = [];\n    this.hurricanes = [];\n    this.score = 0;\n    this.lives = 5;\n    this.level = 1;\n    this.sounds = false;\n    this.gameOver = false;\n  }\n\n  draw(ctx) {\n    this.checkCollision();\n    this.checkGameOver();\n    this.addEnemies();\n    ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n    this.drawShip(this.ship, ctx);\n    this.drawBullets(this.bullets, ctx);\n    this.drawEnemies(this.astros.concat(this.hurricanes), ctx);\n    this.displayGameState(ctx);\n    this.borderColorHurricaneAlert();\n    this.setLevel();\n  }\n\n  drawShip(ship, ctx) {\n    const shipImg = new Image(30, 30);\n    shipImg.src = './imgs/ship3.png';\n    ctx.drawImage(shipImg, ship.posX, ship.posY);\n  }\n\n  drawBullets(bullets, ctx) {\n    bullets.forEach(bullet => {\n      bullet.posY -= 6;\n      if (bullet.posY < 0) {\n        this.removeObject(bullet);\n      }\n      ctx.fillStyle = \"white\";\n      ctx.fillRect(bullet.posX, bullet.posY, 2, 6);\n    });\n  }\n\n  drawEnemies(enemies, ctx) {\n    enemies.forEach(enemy => {\n      enemy.posY += enemy.speed;\n      enemy.posX += enemy.angle;\n      this.outOfBoundsCheck(enemy);\n      const enemyImg = new Image;\n      enemyImg.src = enemy.img;\n      ctx.drawImage(enemyImg, enemy.posX, enemy.posY);\n    });\n  }\n\n  borderColorHurricaneAlert() {\n    const canvas = document.getElementById(\"game\");\n    const color = this.hurricanes.length > 0 ? \"red\" : \"white\";\n    canvas.style.borderColor = color;\n  }\n\n  displayGameState(ctx) {\n    ctx.font = \"12px Comic Sans MS\";\n    const color = this.hurricanes.length > 0 ? \"red\" : \"white\";\n    ctx.fillStyle = color;\n    const displayLives = this.lives === -1 ? \" -\" : this.lives;\n    ctx.fillText(`Score :${this.score}`,10,20);\n    ctx.fillText(`Lives :${displayLives}`,240,20);\n  }\n\n  addBullet(bullet) {\n    this.bullets.push(bullet);\n  }\n\n  addEnemies() {\n    if (this.astros.length < 6 && (Math.random() > .95)) {\n      this.astros.push(new Astro(this.level));\n    }\n    if (Math.floor(Math.random() * 1000) > 997) {\n      this.hurricanes.push(new Hurricane(this.level));\n    }\n  }\n\n  outOfBoundsCheck(enemy) {\n    if(enemy.posY > 300){\n      if (enemy instanceof Hurricane) {\n        this.loseLife();\n      }else{\n        this.score -= 20;\n      }\n      this.removeObject(enemy);\n    }\n  }\n\n  removeObject(object) {\n    if (object instanceof Bullet) {\n     this.bullets.splice(this.bullets.indexOf(object), 1);\n   } else if (object instanceof Hurricane) {\n     this.hurricanes.splice(this.hurricanes.indexOf(object), 1);\n   } else if (object instanceof Astro) {\n     this.astros.splice(this.astros.indexOf(object), 1);\n   }\n  }\n\n  checkCollision() {\n    const enemies = this.astros.concat(this.hurricanes);\n    enemies.forEach(enemy => {\n      if (((enemy.posY + enemy.size.height) >= 285)\n      && this.shipHitEnemy(enemy)) {\n        this.removeObject(enemy);\n        this.loseLife();\n      }else if (this.shotEnemy(enemy)){\n        this.resolveShotEnemy(enemy);\n        this.playGameSounds('./sounds/beat2.wav');\n      }\n    });\n  }\n\n  playGameSounds(audioFile) {\n    if (this.sounds) {\n      new Audio(audioFile).play();\n    }\n  }\n\n  loseLife(){\n    this.lives -= 1;\n    const container = document.querySelector(\".container\");\n    container.classList.add(\"shake\");\n    this.playGameSounds('./sounds/bangLarge.wav');\n    setTimeout(function(){\n      container.classList.remove(\"shake\");\n   }, 1000);\n  }\n\n  shipHitEnemy(enemy) {\n    const shipEnd = this.ship.posX + this.ship.width;\n    const enemyEnd = enemy.posX + enemy.size.width;\n    if (enemy.posX < this.ship.posX) {\n      if (enemyEnd >= this.ship.posX) {\n        return true;\n      }\n    } else if (enemy.posX === this.ship.posX) {\n      return true;\n    }else if (shipEnd >= enemy.posX ){\n      return true;\n    }\n    return false;\n  }\n\n  shotEnemy(enemy) {\n    const enemyXEnd = enemy.posX + enemy.size.width;\n    const enemyYEnd = enemy.posY + enemy.size.height;\n    let hit = false;\n    this.bullets.forEach(bullet => {\n      if( ( (bullet.posX >= enemy.posX) && bullet.posX <= enemyXEnd) &&\n      (bullet.posY >= enemy.posY && bullet.posY <= enemyYEnd ) ){\n        this.removeObject(bullet);\n        hit = true;\n      }\n    });\n    return hit;\n  }\n\n  resolveShotEnemy(enemy) {\n    if (enemy.size.width === 16 && enemy.type === \"astro\") {\n      const newAstros = this.createSmallAstros(enemy);\n      this.astros.push(...newAstros);\n    }\n    this.score += enemy.score;\n    this.removeObject(enemy);\n  }\n\n  createSmallAstros(astro){\n    const newAstros = [];\n    const size = { height: 8, width: 8 };\n    [-Math.random()/2, Math.random()/2].forEach(angle => {\n      newAstros.push(new Astro(this.level, size, \"astro\", astro.posX, astro.posY, undefined, angle));\n    });\n    return newAstros;\n  }\n\n  setLevel() {\n    if (this.score < 1000) {\n      this.level = 1;\n    }else if (this.score >= 1000 && this.score < 4000) {\n      this.level = 2;\n    }else if (this.score >= 4000 && this.score < 10000){\n      this.level = 3;\n    }else {\n      this.level = 4;\n    }\n  }\n\n  checkGameOver() {\n    if (this.lives < 0) {\n      this.gameOver = true;\n    }\n  }\n\n  resetGame(callBack) {\n    this.score = 0;\n    this.lives = 5;\n    this.astros = [];\n    this.hurricanes = [];\n    this.bullets = [];\n    this.ship.posX = 143;\n    this.gameOver = false;\n    this.level = 1;\n    document.removeEventListener(\"keydown\", callBack);\n  }\n\n  toggleSounds() {\n    this.sounds = !this.sounds;\n  }\n\n}\n\nGame.DIM_X = 800;\nGame.DIM_Y = 600;\n\nexport default Game;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/game.js\n// module id = 3\n// module chunks = 0","import Bullet from './bullet';\n\nclass Ship {\n  constructor(game) {\n    this.game = game;\n    this.posX = 143;\n    this.posY = 285;\n    this.height = 15;\n    this.width = 8;\n  }\n\n  shoot() {\n    const bullet = new Bullet(this.posX);\n    this.game.addBullet(bullet);\n    this.game.playGameSounds('./sounds/fire.wav');\n  }\n\n  move(dir) {\n    if (dir === \"left\") {\n      this.posX = this.posX <= 8 ? 0 : this.posX - 8;\n    }else {\n      this.posX = this.posX >= 277 ? 285 : this.posX + 8;\n    }\n  }\n}\n\n\nexport default Ship;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/ship.js\n// module id = 4\n// module chunks = 0","import Enemy from './enemy';\n\nclass Astro extends Enemy {\n  constructor(level, size, type, posX, posY, speed, angle) {\n    super(level, size, type, posX, posY, speed, angle);\n    this.score = this.size.width === 8 ? 100 : 50;\n    this.img = this.size.width === 8 ? \"./imgs/Asteroid3.png\" : \"./imgs/Asteroid2.png\";\n  }\n}\n\nexport default Astro;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/astro.js\n// module id = 5\n// module chunks = 0","import Enemy from './enemy.js';\n\nclass Hurricane extends Enemy {\n  constructor(level) {\n    super(level, { height:16, width: 16 }, \"hurricane\");\n    this.speed = .5 * level;\n    this.score = 200;\n    this.img = \"./imgs/meteor2.gif\";\n  }\n}\n\nexport default Hurricane;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/hurricane.js\n// module id = 6\n// module chunks = 0","class View {\n  constructor(game, ctx) {\n    this.game = game;\n    this.ctx = ctx;\n    this.stars = this.setStars();\n    this.music = this.setMusic();\n    this.volume = 0;\n    this.paused = false;\n    this.viewInstructions = true;\n  }\n\n  setMusic() {\n    const audio = new Audio('./sounds/throughspace.ogg');\n    audio.loop = true;\n    audio.volume = 0;\n    audio.play();\n    return audio;\n  }\n\n  setStars() {\n    const stars = [];\n    for(let i = 0; i < 200; i++) {\n      stars.push([Math.floor(Math.random() * 300),\n      Math.floor(Math.random() * 220)]);\n    }\n    return stars;\n  }\n\n  bindKeyHandlers() {\n    const ship = this.game.ship;\n    key(\"left\", () => { ship.move(\"left\"); } );\n    key(\"right\", () => { ship.move(\"right\"); });\n    key(\"space\", () => { ship.shoot(); } );\n    key(\"s\", () => { this.toggleAudio(); } );\n    key(\"p\", () => { this.togglePaused(); });\n  }\n\n  drawBackgroundMountains(ctx) {\n    ctx.beginPath();\n    ctx.moveTo(0,250);\n    ctx.lineTo(50, 220);\n    ctx.lineTo(220, 260);\n    ctx.lineTo(260, 240);\n    ctx.lineTo(300, 240);\n    ctx.strokeStyle = \"white\";\n    ctx.stroke();\n  }\n\n  drawBackground(ctx) {\n    ctx.fillStyle = \"white\";\n    this.stars.forEach(([x, y]) => {\n      ctx.fillRect(x, y, 1, 1);\n    });\n    this.drawBackgroundMountains(ctx);\n  }\n\n  start() {\n    this.bindKeyHandlers();\n    game.style.display = \"inline\";\n    instructions.style.display = \"none\";\n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n  toggleAudio() {\n    this.volume = this.volume === 0 ? 1 : 0;\n    this.music.volume = this.volume;\n    this.game.toggleSounds();\n  }\n\n  togglePaused() {\n    this.paused = !this.paused;\n    if (this.paused) {\n      this.displayPaused();\n    }else{\n      requestAnimationFrame(this.animate.bind(this));\n    }\n  }\n\n  displayPaused() {\n    this.ctx.font = \"32px Comic Sans MS\";\n    this.ctx.fillStyle = \"red\";\n    this.ctx.fillText(\"PAUSED\",85,120);\n  }\n\n  handleGameOver() {\n    this.ctx.font = \"32px Comic Sans MS\";\n    this.ctx.fillStyle = \"red\";\n    this.ctx.fillText(\"GAME OVER\",60,120);\n    this.ctx.font = \"16px Comic Sans MS\";\n    this.ctx.fillText(\"Press R to play again\",75,180);\n    const callBack = e => {\n      if(e.key === \"r\") {\n        this.game.resetGame(callBack);\n        this.animate();\n      }\n    };\n    document.addEventListener(\"keydown\", callBack);\n  }\n\n  setBackgroundColor() {\n    const level = this.game.level;\n    const background = document.getElementById(\"game\");\n    switch(level) {\n      case 1:\n        background.className = \"black\";\n        break;\n      case 2:\n        background.className = \"blue\";\n        break;\n      case 3:\n        background.className = \"grey\";\n        break;\n      case 4:\n        background.className = \"black\";\n    }\n  }\n\n  animate() {\n    if (this.game.gameOver) {\n      this.handleGameOver();\n    }else if (!this.paused) {\n      this.game.draw(this.ctx);\n      this.drawBackground(this.ctx);\n      this.setBackgroundColor();\n      requestAnimationFrame(this.animate.bind(this));\n    }\n  }\n\n}\n\nexport default View;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/view.js\n// module id = 7\n// module chunks = 0"],"sourceRoot":""}